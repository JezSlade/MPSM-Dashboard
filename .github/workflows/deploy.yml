name: Deploy to GreenGeeks

on:
  push:
    branches: [ "main" ]  # Runs on pushes to the main branch

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Deploy files via FTP
        uses: peaceiris/actions-ftp@v3  # Updated to v3
        with:
          host: ${{ secrets.FTP_SERVER }}       # e.g., ftp.resolutionsbydesign.us
          user: ${{ secrets.FTP_USERNAME }}     # mpsm
          password: ${{ secrets.FTP_PASSWORD }} # Your GreenGeeks FTP password
          port: 21                             # Default FTP port
          localDir: "./"                       # Upload all files from the repo root
          remoteDir: ${{ secrets.REMOTE_DIR }} # public_html/mpsm.resolutionsbydesign.us/mpsm
          passive: true                        # GreenGeeks often requires passive mode
          # timeout: 60s                      # Uncomment if you get timeout errors
